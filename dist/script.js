(()=>{const e={animals:["КОШКА","СОБАКА","ЛЕВ","ТИГР","СЛОН","ВОЛК","ЗАЯЦ"],fruits:["ЯБЛОКО","БАНАН","АПЕЛЬСИН","ГРУША","АНАНАС"],countries:["РОССИЯ","ФРАНЦИЯ","ГЕРМАНИЯ","ИТАЛИЯ","ЯПОНИЯ"],mixed:["ЗАГАДКА","РЕБУС","КНИГА","КОМПЬЮТЕР"]};let t="",n=[],o=0,i=!1;const a=document.getElementById("startBtn"),r=document.getElementById("resetBtn"),c=document.getElementById("theme"),l=document.getElementById("word"),s=document.getElementById("alphabet"),d=document.getElementById("status"),m=document.getElementById("wrongCount"),u=document.getElementById("gallows"),h=u.getContext("2d");function g(){l.textContent=n.join(" ")}function b(e){d.textContent=e}function k(){h.clearRect(0,0,u.width,u.height)}function T(){k(),h.lineWidth=4,h.strokeStyle="#111",h.beginPath(),h.moveTo(20,280),h.lineTo(280,280),h.stroke(),h.beginPath(),h.moveTo(70,280),h.lineTo(70,20),h.lineTo(190,20),h.lineTo(190,60),h.stroke()}a.addEventListener("click",function(){const a=c.value;t=function(t){const n=e[t]||e.mixed;return n[Math.floor(Math.random()*n.length)]}(a),n=Array.from(t).map(e=>function(e){return/[А-ЯЁ]/.test(e)}(e)?"_":e),o=0,i=!1,g(),s.innerHTML="","АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ".split("").forEach(e=>{const a=document.createElement("button");a.textContent=e,a.setAttribute("aria-label","Буква "+e),a.addEventListener("click",()=>function(e,a){if(!i)if(a.disabled=!0,t.includes(e)){for(let o=0;o<t.length;o++)t[o]===e&&(n[o]=e);g(),n.includes("_")||(i=!0,b("Поздравляем! Вы угадали слово: "+t))}else o++,m.textContent=o,function(e){switch(h.lineWidth=3,h.strokeStyle="#111",e){case 1:h.beginPath(),h.moveTo(190,60),h.lineTo(190,100),h.stroke();break;case 2:h.beginPath(),h.arc(190,125,25,0,2*Math.PI),h.stroke();break;case 3:h.beginPath(),h.moveTo(190,150),h.lineTo(190,220),h.stroke();break;case 4:h.beginPath(),h.moveTo(190,170),h.lineTo(155,200),h.stroke();break;case 5:h.beginPath(),h.moveTo(190,170),h.lineTo(225,200),h.stroke();break;case 6:h.beginPath(),h.moveTo(190,220),h.lineTo(165,260),h.stroke();break;case 7:h.beginPath(),h.moveTo(190,220),h.lineTo(215,260),h.stroke()}}(o),o>=7&&(i=!0,n=Array.from(t),g(),b("Вы проиграли. Загаданное слово: "+t))}(e,a)),s.appendChild(a)}),T(),b("Игра началась — угадайте слово"),m.textContent=o}),r.addEventListener("click",function(){t="",n=[],o=0,i=!1,l.textContent="",s.innerHTML="",b("Нажмите «Начать игру»"),m.textContent=o,k()}),T()})();